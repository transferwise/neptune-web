import { LiveEditorBlock, GeneratePropsTable } from '../../../utils';
import { Image } from '@transferwise/components';
import code from '../../../liveEditorCode/image.code';

Image component renders an img tag with some optional lazy load feature. "alt" and "src" props are required to enforce accessibility good practices.
Lazy loading functionality is currently not supported on IE11. If you are need this kind of functionality to be supported you'll need to add a polyfill for Observer window object.

<LiveEditorBlock code={code} scope={{ Image }} />
<GeneratePropsTable componentName="Image" />

Image component provides an image which is **responsive by default**. Responsive behaviours can be controlled by two props: `shrink` and `stretch`. When both of them are set to true the image will adapt to the parent whether the dimensions of the parent are bigger or smaller than native image sizes.
When shrink or strecth are set to false the smallest/biggest dimensions will be set by the native original images sizes.

- Image shrink on smaller containers (width:"200px").
  <div style={{ width: '200px', border: '1px solid var(--brand-navy)' }} className={'p-a-1'}>
    <Image
      alt="test"
      id="id2"
      className={'m-t-5'}
      src="https://placeholder.pics/svg/300/00b9ff/ffffff"
      loading="lazy"
      onLoad={() => console.log('image loaded 1')}
      onError={(errorEvent) => console.log(errorEvent)}
      stretch={false}
    />
  </div>

* Image strecth on bigger containers (width:"400px").
  <div style={{ width: '400px', border: '1px solid var(--brand-navy)' }} className={'p-a-1'}>
    <Image
      alt="test"
      id="id2"
      src="https://placeholder.pics/svg/300/00b9ff/ffffff"
      loading="lazy"
      onLoad={() => console.log('image loaded 1')}
      onError={(errorEvent) => console.log(errorEvent)}
      stretch={true}
    />
  </div>

- Image doesn't shrink (width:"200px").
  <div style={{ width: '200px', border: '1px solid var(--brand-navy)' }} className={'p-a-1'}>
    <Image
      alt="test"
      id="id3"
      src="https://placeholder.pics/svg/300/00b9ff/ffffff"
      loading="lazy"
      onLoad={() => console.log('image loaded 2')}
      onError={(errorEvent) => console.log(errorEvent)}
      stretch={true}
      shrink={false}
    />
  </div>

* Image doesn't stretch (width:"400px")
  <div style={{ width: '400px', border: '1px solid var(--brand-navy)' }} className={'p-a-1'}>
    <Image
      alt="test"
      id="id4"
      src="https://placeholder.pics/svg/300/00b9ff/ffffff"
      loading="lazy"
      onLoad={() => console.log('image loaded 2')}
      onError={(errorEvent) => console.log(errorEvent)}
      stretch={false}
      shrink={false}
    />
  </div>

export const meta = {
  name: 'Image',
};
